<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SQL Executor</title>
  <link rel="stylesheet" href="styles2.css" />
</head>
<body>
<h1>SQL Executor</h1>

<!-- Dropdown for selecting Function or Procedure -->
<label for="executionType">Select Function or Procedure:</label>
<select id="executionType" onchange="toggleForm()">
  <option value="function">Function</option>
  <option value="procedure">Procedure</option>
</select>

<!-- Dropdown for selecting specific function or procedure -->
<label for="sqlOption">Select SQL Option:</label>
<select id="sqlOption" onchange="toggleOptionForm()">
  <option value="FindMostExpensiveDoctor">FindMostExpensiveDoctor</option>
  <option value="GetSpentByPatient">GetSpentByPatient</option>
  <option value="AddAppointment">AddAppointment</option>
  <option value="UpdateDoctorSchedule">UpdateDoctorSchedule</option>
</select>

<!-- FindMostExpensiveDoctor function execution form -->
<div class="form-container" id="findMostExpensiveDoctorContainer">
  <form th:action="@{/executeFunction}" method="post" id="findMostExpensiveDoctorForm">
    <label for="dateParam">Function Parameter (Date):</label>
    <input type="date" id="dateParam" name="dateParam" required>
    <br>
    <button type="submit">Execute FindMostExpensiveDoctor</button>
  </form>
</div>

<!-- GetSpentByPatient function execution form -->
<div class="form-container" id="getSpentByPatientContainer">
  <form th:action="@{/executeFunction}" method="post" id="getSpentByPatientForm">
    <label for="phoneNumber">Function Parameter (Phone Number):</label>
    <input type="text" id="phoneNumber" name="phoneNumber" required>
    <br>
    <button type="submit">Execute GetSpentByPatient</button>
  </form>
</div>

<!-- AddAppointment procedure execution form -->
<div class="form-container" id="addAppointmentContainer">
  <form th:action="@{/executeProcedure}" method="post" id="addAppointmentForm">
    <label for="appointmentType">Appointment Type:</label>
    <input type="text" id="appointmentType" name="appointmentType" required>
    <br>
    <label for="appointmentDate">Appointment Date:</label>
    <input type="date" id="appointmentDate" name="appointmentDate" required>
    <br>
    <label for="doctorId">Doctor ID:</label>
    <input type="number" id="doctorId" name="doctorId" required>
    <br>
    <label for="patientId">Patient ID:</label>
    <input type="number" id="patientId" name="patientId" required>
    <br>
    <button type="submit">Execute AddAppointment</button>
  </form>
</div>

<!-- UpdateDoctorSchedule procedure execution form -->
<div class="form-container" id="updateDoctorScheduleContainer">
  <form th:action="@{/executeProcedure}" method="post" id="updateDoctorScheduleForm">
    <label for="doctorIdForSchedule">Doctor ID:</label>
    <input type="number" id="doctorIdForSchedule" name="doctorIdForSchedule" required>
    <br>
    <label for="dayOfWeek">Day of Week:</label>
    <input type="text" id="dayOfWeek" name="dayOfWeek" required>
    <br>
    <label for="startTime">Start Time:</label>
    <input type="time" id="startTime" name="startTime" required>
    <br>
    <label for="endTime">End Time:</label>
    <input type="time" id="endTime" name="endTime" required>
    <br>
    <button type="submit">Execute UpdateDoctorSchedule</button>
  </form>
</div>

<div class="result" th:if="${result}">
  <h2>Result:</h2>
  <p th:text="${result}"></p>
</div>

<script src="script.js"></script>
</body>
</html>
